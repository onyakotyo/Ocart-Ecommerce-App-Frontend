{"ast":null,"code":"var _jsxFileName = \"/Users/onesmusnyakotyo/ocart/frontend/src/components/Header.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { LinkContainer } from 'react-router-bootstrap';\nimport { Route } from 'react-router-dom';\nimport { Navbar, Nav, Container, NavDropdown } from 'react-bootstrap';\nimport { logout } from '../actions/userActions';\nimport SearchBox from './SearchBox';\nimport { getUserDetails } from '../actions/userActions';\nimport { useHistory } from \"react-router-dom\";\nimport { CART_REMOVE_ALL_ITEMS } from '../constants/cartConstants';\nimport Logo from './Logo'; //import SearchButtons from '../components/SearchButtons'\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Header = ({\n  match\n}) => {\n  _s();\n\n  const history = useHistory(); //const userId = match.params.id\n\n  const dispatch = useDispatch(); //const productId = match.params.id\n  //const qty = history.location.search ? Number(history.location.search.split('=')[1]) : 1\n\n  const cart = useSelector(state => state.cart);\n  const {\n    cartItems\n  } = cart; //console.log('CART', cartItems )\n\n  const userDetails = useSelector(state => state.userDetails);\n  const {\n    success,\n    user\n  } = userDetails; //console.log('User', user.isSeller)\n\n  const userLogin = useSelector(state => state.userLogin);\n  const {\n    userInfo\n  } = userLogin;\n  useEffect(() => {\n    if (!userInfo) {\n      history.push('/login');\n    } else {\n      if (userInfo) {\n        dispatch(getUserDetails(userInfo._id));\n      } else {}\n    }\n  }, [dispatch, history, userInfo, success]);\n\n  const logoutHandler = () => {\n    //history.push('/') \n    dispatch(logout());\n    dispatch({\n      type: CART_REMOVE_ALL_ITEMS\n    });\n    window.localStorage.clear(); //clear all localstorage\n    //window.localStorage.removeItem(\"my_item_key\"); //remove one item   \n  };\n\n  return /*#__PURE__*/_jsxDEV(\"header\", {\n    children: /*#__PURE__*/_jsxDEV(Navbar, {\n      bg: \"primary\",\n      variant: \"dark\",\n      expand: \"lg\",\n      collapseOnSelect: true,\n      children: /*#__PURE__*/_jsxDEV(Container, {\n        children: [/*#__PURE__*/_jsxDEV(LinkContainer, {\n          to: \"/\",\n          children: /*#__PURE__*/_jsxDEV(Nav.Link, {\n            children: /*#__PURE__*/_jsxDEV(Logo, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 78,\n              columnNumber: 35\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Navbar.Toggle, {\n          \"aria-controls\": \"basic-navbar-nav\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Navbar.Collapse, {\n          id: \"basic-navbar-nav\",\n          children: [/*#__PURE__*/_jsxDEV(Route, {\n            render: ({\n              history\n            }) => /*#__PURE__*/_jsxDEV(SearchBox, {\n              history: history\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 82,\n              columnNumber: 53\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(Nav, {\n            className: \"m-auto\",\n            children: [!userInfo ? /*#__PURE__*/_jsxDEV(LinkContainer, {\n              to: \"/login\",\n              children: /*#__PURE__*/_jsxDEV(Nav.Link, {\n                children: \"Sell\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 89,\n                columnNumber: 29\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 88,\n              columnNumber: 25\n            }, this) : user.isSeller ? /*#__PURE__*/_jsxDEV(LinkContainer, {\n              to: \"/sellingHow\",\n              children: /*#__PURE__*/_jsxDEV(Nav.Link, {\n                children: \"Sell\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 97,\n                columnNumber: 29\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 96,\n              columnNumber: 26\n            }, this) : /*#__PURE__*/_jsxDEV(LinkContainer, {\n              to: \"/sellerRegister\",\n              children: /*#__PURE__*/_jsxDEV(Nav.Link, {\n                children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                  className: \"fas fa-hand-holding-usd fa-lg \"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 107,\n                  columnNumber: 33\n                }, this), \" Sell\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 106,\n                columnNumber: 29\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 105,\n              columnNumber: 26\n            }, this), user && user.sellerConfirmation && user.isSeller ? /*#__PURE__*/_jsxDEV(LinkContainer, {\n              to: \"seller/productlist\",\n              children: /*#__PURE__*/_jsxDEV(Nav.Link, {\n                children: \"My Product List\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 116,\n                columnNumber: 29\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 115,\n              columnNumber: 25\n            }, this) : null, user && user.sellerConfirmation && user.isSeller ? /*#__PURE__*/_jsxDEV(LinkContainer, {\n              to: \"/seller/sellerOrders\",\n              children: /*#__PURE__*/_jsxDEV(Nav.Link, {\n                children: \"Seller Orders List\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 128,\n                columnNumber: 29\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 127,\n              columnNumber: 25\n            }, this) : null, /*#__PURE__*/_jsxDEV(LinkContainer, {\n              to: \"/cart\",\n              children: /*#__PURE__*/_jsxDEV(Nav.Link, {\n                children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                  className: \"fas fa-shopping-cart\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 142,\n                  columnNumber: 29\n                }, this), \" Cart \", ' ', /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"badge rounded-pill bg-danger\",\n                  children: cartItems.reduce((acc, item) => acc + Number(item.qty), 0)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 144,\n                  columnNumber: 29\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 141,\n                columnNumber: 25\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 140,\n              columnNumber: 21\n            }, this), userInfo ? /*#__PURE__*/_jsxDEV(NavDropdown, {\n              title: userInfo.name,\n              id: \"username\",\n              children: [/*#__PURE__*/_jsxDEV(LinkContainer, {\n                to: \"/profile\",\n                children: /*#__PURE__*/_jsxDEV(NavDropdown.Item, {\n                  children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                    className: \"fas fa-user\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 156,\n                    columnNumber: 51\n                  }, this), \" Profile\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 156,\n                  columnNumber: 33\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 155,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(NavDropdown.Item, {\n                onClick: logoutHandler,\n                children: \" Logout\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 158,\n                columnNumber: 29\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 154,\n              columnNumber: 25\n            }, this) : /*#__PURE__*/_jsxDEV(LinkContainer, {\n              to: \"/login\",\n              children: /*#__PURE__*/_jsxDEV(Nav.Link, {\n                children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                  className: \"fas fa-user\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 165,\n                  columnNumber: 33\n                }, this), \" Sign In\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 164,\n                columnNumber: 29\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 163,\n              columnNumber: 25\n            }, this), userInfo && userInfo.isAdmin && /*#__PURE__*/_jsxDEV(NavDropdown, {\n              title: \"Admin\",\n              id: \"adminmenu\",\n              children: [/*#__PURE__*/_jsxDEV(LinkContainer, {\n                to: \"/admin/userlist\",\n                children: /*#__PURE__*/_jsxDEV(NavDropdown.Item, {\n                  children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                    className: \"fas fa-users\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 173,\n                    columnNumber: 51\n                  }, this), \" Users\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 173,\n                  columnNumber: 33\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 172,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(LinkContainer, {\n                to: \"/admin/productlist\",\n                children: /*#__PURE__*/_jsxDEV(NavDropdown.Item, {\n                  children: \"Products\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 176,\n                  columnNumber: 33\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 175,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(LinkContainer, {\n                to: \"/admin/orderlist\",\n                children: /*#__PURE__*/_jsxDEV(NavDropdown.Item, {\n                  children: \"Orders\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 179,\n                  columnNumber: 33\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 178,\n                columnNumber: 31\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 171,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 73,\n    columnNumber: 9\n  }, this);\n};\n\n_s(Header, \"bCQN9IpBE6RwbpAqqsqFNi7joxM=\", false, function () {\n  return [useHistory, useDispatch, useSelector, useSelector, useSelector];\n});\n\n_c = Header;\nexport default Header;\n\nvar _c;\n\n$RefreshReg$(_c, \"Header\");","map":{"version":3,"sources":["/Users/onesmusnyakotyo/ocart/frontend/src/components/Header.js"],"names":["React","useEffect","useDispatch","useSelector","LinkContainer","Route","Navbar","Nav","Container","NavDropdown","logout","SearchBox","getUserDetails","useHistory","CART_REMOVE_ALL_ITEMS","Logo","Header","match","history","dispatch","cart","state","cartItems","userDetails","success","user","userLogin","userInfo","push","_id","logoutHandler","type","window","localStorage","clear","isSeller","sellerConfirmation","reduce","acc","item","Number","qty","name","isAdmin"],"mappings":"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","sourcesContent":["import React, {useEffect} from 'react'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { LinkContainer } from 'react-router-bootstrap'\nimport { Route } from 'react-router-dom'\nimport {Navbar, Nav, Container, NavDropdown} from 'react-bootstrap'\nimport { logout } from '../actions/userActions'\nimport SearchBox  from './SearchBox'\nimport { getUserDetails } from '../actions/userActions'\nimport { useHistory } from \"react-router-dom\"\nimport { CART_REMOVE_ALL_ITEMS }  from '../constants/cartConstants'\nimport Logo from './Logo'\n//import SearchButtons from '../components/SearchButtons'\n\n\nconst Header = ({ match }) => {\n\n    const history = useHistory()\n\n    //const userId = match.params.id\n\n    const dispatch = useDispatch()\n\n     //const productId = match.params.id\n\n  //const qty = history.location.search ? Number(history.location.search.split('=')[1]) : 1\n\n\n  const cart = useSelector((state) => state.cart)\n  const { cartItems } = cart\n\n  //console.log('CART', cartItems )\n\n\n  \n\n    const userDetails = useSelector(state => state.userDetails)\n    const { success, user} = userDetails\n\n    \n\n\n      //console.log('User', user.isSeller)\n\n    const userLogin = useSelector(state => state.userLogin)\n    const { userInfo } = userLogin\n\n    useEffect(() => {\n        if(!userInfo) {\n            history.push('/login')\n        } else {\n            if (userInfo) {\n                dispatch(getUserDetails(userInfo._id))\n            } else{\n               \n               \n            }\n        }\n    }, [dispatch, history, userInfo, success])\n\n\n    const logoutHandler = () => {\n         //history.push('/') \n        dispatch(logout())\n       \n        dispatch({ type: CART_REMOVE_ALL_ITEMS })\n        window.localStorage.clear(); //clear all localstorage\n        //window.localStorage.removeItem(\"my_item_key\"); //remove one item   \n        \n    }\n\n\n    return (\n        <header>\n            <Navbar bg=\"primary\" variant=\"dark\" expand=\"lg\" collapseOnSelect>\n                <Container>\n                    <LinkContainer to='/' >\n                        {/* <Navbar.Brand ></Navbar.Brand> */}\n                        <Nav.Link><Logo /></Nav.Link>\n                    </LinkContainer>\n                    <Navbar.Toggle aria-controls=\"basic-navbar-nav\" />\n                    <Navbar.Collapse id=\"basic-navbar-nav\" >\n                    <Route render={({ history }) => <SearchBox history={history}  />} />\n\n                   \n                     \n                    <Nav className=\"m-auto\">\n                    {!userInfo ? (\n                        <LinkContainer to=\"/login\"> \n                            <Nav.Link>\n                                {/* <i className=\"fas fa-hand-holding-usd fa-lg \"></i>  */}\n                                Sell\n                            </Nav.Link>\n                    </LinkContainer>   \n\n                    ) : user.isSeller ? (\n                         <LinkContainer to=\"/sellingHow\"> \n                            <Nav.Link>\n                                {/* <i className=\"fas fa-hand-holding-usd fa-lg \"></i>  */}\n                                Sell\n                            </Nav.Link>\n                    </LinkContainer>   \n                    ) :\n\n                    (\n                         <LinkContainer to=\"/sellerRegister\"> \n                            <Nav.Link>\n                                <i className=\"fas fa-hand-holding-usd fa-lg \"></i> Sell\n                            </Nav.Link>\n                    </LinkContainer>   \n                    )\n                \n                }\n\n                    { user && user.sellerConfirmation && user.isSeller ? (\n                        <LinkContainer to=\"seller/productlist\"> \n                            <Nav.Link>\n                                My Product List\n                            </Nav.Link>\n                    </LinkContainer>   \n                    ) \n                    : (\n                         null\n                    )\n                    }\n\n                     { user && user.sellerConfirmation && user.isSeller ? (\n                        <LinkContainer to='/seller/sellerOrders'> \n                            <Nav.Link>\n                                Seller Orders List\n                            </Nav.Link>\n                    </LinkContainer>   \n                    ) \n                    : (\n                         null\n                    )\n                    }\n\n                    \n                     \n                    <LinkContainer to=\"/cart\">  \n                        <Nav.Link>\n                            <i className= 'fas fa-shopping-cart'></i> Cart {' '}\n                            {/* <Badge variant=\"danger\"> {cartItems.reduce((acc, item) => acc + Number(item.qty), 0)}</Badge> */}\n                            <span className=\"badge rounded-pill bg-danger\">{cartItems.reduce((acc, item) => acc + Number(item.qty), 0)}</span>\n                        </Nav.Link>\n                        {/* <h6>\n                            ({cartItems.reduce((acc, item) => acc + Number(item.qty), 0)})\n                            items\n                        </h6> */}\n                    </LinkContainer>\n                    { \n                    userInfo ? (\n                        \n                        <NavDropdown title= { userInfo.name }  id='username'>\n                            <LinkContainer to='/profile'>\n                                <NavDropdown.Item><i className= 'fas fa-user'></i> Profile</NavDropdown.Item>\n                            </LinkContainer>\n                            <NavDropdown.Item onClick={ logoutHandler }> Logout</NavDropdown.Item>\n                        </NavDropdown>   \n\n                                        )\n                    : \n                        <LinkContainer to=\"/login\"> \n                            <Nav.Link>\n                                <i className= 'fas fa-user'></i> Sign In\n                            </Nav.Link>\n                        </LinkContainer>    \n                    }\n\n                    {userInfo && userInfo.isAdmin && (\n                        <NavDropdown title= 'Admin'  id='adminmenu'>\n                            <LinkContainer to='/admin/userlist'>\n                                <NavDropdown.Item><i className= 'fas fa-users'></i> Users</NavDropdown.Item>\n                            </LinkContainer>\n                            <LinkContainer to='/admin/productlist'>\n                                <NavDropdown.Item>Products</NavDropdown.Item>\n                            </LinkContainer>\n                              <LinkContainer to='/admin/orderlist'>\n                                <NavDropdown.Item>Orders</NavDropdown.Item>\n                            </LinkContainer>\n                            \n                        </NavDropdown>   \n                    )\n                    }\n                    \n                        </Nav>\n                        \n                    </Navbar.Collapse>\n                </Container>\n            </Navbar>\n        </header>\n    )\n}\n\nexport default Header\n"]},"metadata":{},"sourceType":"module"}