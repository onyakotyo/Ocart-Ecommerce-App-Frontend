{"ast":null,"code":"import _slicedToArray from\"/Users/onesmusnyakotyo/ocart/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import{useSelector,useDispatch}from'react-redux';import{Form,Button}from'react-bootstrap';//import { LinkContainer } from 'react-router-bootstrap'\nimport Message from'../components/Message';import Loader from'../components/Loader';import FormContainer from'../components/FormContainer';import{sellerConfirmationPost}from'../actions/userActions';import{getUserDetails}from'../actions/userActions';//import { USER_UPDATE_PROFILE_RESET } from '../constants/userConstants'\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var SellerConfirmationScreen=function SellerConfirmationScreen(_ref){var match=_ref.match,history=_ref.history;var userId=match.params.id;console.log('USERID',userId);var _useState=useState('Yes'),_useState2=_slicedToArray(_useState,2),clientIdCheck=_useState2[0],setClientIdCheck=_useState2[1];var _useState3=useState('Yes'),_useState4=_slicedToArray(_useState3,2),bankAccountCheck=_useState4[0],setBankAccountCheck=_useState4[1];var _useState5=useState('Yes'),_useState6=_slicedToArray(_useState5,2),chargeableCard=_useState6[0],setChargeableCard=_useState6[1];var dispatch=useDispatch();var userDetails=useSelector(function(state){return state.userDetails;});var success=userDetails.success,user=userDetails.user;//console.log('USER-DETAILS', user)\nvar userUpdate=useSelector(function(state){return state.userUpdate;});var loadingUpdate=userUpdate.loading,errorUpdate=userUpdate.error,successUpdate=userUpdate.success;var userLogin=useSelector(function(state){return state.userLogin;});var loading=userLogin.loading,error=userLogin.error,userInfo=userLogin.userInfo;//console.log('USER-LOGIN', userLogin)\nuseEffect(function(){if(!userInfo){history.push('/login');}else{if(!user.name||user._id!==userId){dispatch(getUserDetails(userId));}else{}}},[dispatch,history,userInfo,user,success,userId]);useEffect(function(){if(!userInfo){history.push('/login');}else{if(!user.name||user._id!==userId){dispatch(getUserDetails(userId));}else{}}},[dispatch,history,userId,user,successUpdate,userInfo]);var submitHandler=function submitHandler(e,sellerConfirmation){e.preventDefault();if(window.confirm('By pressing continue - you will be signing off your name against this seller and you will be signed off as the authorisation officer. Are you sure, you have you filled in all the fields correctly?')){dispatch(sellerConfirmationPost(userId,sellerConfirmation={email:userInfo.email,name:userInfo.name,chargeableCard:chargeableCard,clientIdCheck:clientIdCheck,bankAccountCheck:bankAccountCheck}));history.push('/admin/userlist');}};return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(FormContainer,{children:[error&&/*#__PURE__*/_jsx(Message,{variant:\"danger\",children:error}),loading&&/*#__PURE__*/_jsx(Loader,{}),/*#__PURE__*/_jsx(\"h5\",{className:\"text-center py-3 m-3\",children:\"Seller Confirmation Form\"}),/*#__PURE__*/_jsx(Form,{onSubmit:submitHandler,children:/*#__PURE__*/_jsxs(Form.Group,{children:[/*#__PURE__*/_jsx(\"h5\",{className:\"text-center py-2\",children:\"Please fill in the form below accurately\"}),/*#__PURE__*/_jsx(Form.Check,{type:\"radio\",label:\"Client ID Checked\",id:\"clientId\",name:\"clientIdCheck\",value:\"Yes\",required:true//checked\n,Change:function Change(e){return setClientIdCheck(e.target.value);}}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(Form.Check,{type:\"radio\",label:\"Bank Account Checked\",id:\"bankAccountCheck\",name:\"bankAccountCheck\",value:\"Yes\",required:true//checked\n,Change:function Change(e){return setBankAccountCheck(e.target.value);}}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(Form.Check,{type:\"radio\",label:\"Chargeable Card Checked\",id:\"chargeable Card\",name:\"chargeableCard\",value:\"Yes\",required:true//checked\n,Change:function Change(e){return setChargeableCard(e.target.value);}}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(Button,{type:\"submit\",variant:\"dark\",children:\"Continue\"})]})})]})});};export default SellerConfirmationScreen;","map":{"version":3,"sources":["/Users/onesmusnyakotyo/ocart/frontend/src/screens/SellerConfirmationScreen.js"],"names":["React","useState","useEffect","useSelector","useDispatch","Form","Button","Message","Loader","FormContainer","sellerConfirmationPost","getUserDetails","SellerConfirmationScreen","match","history","userId","params","id","console","log","clientIdCheck","setClientIdCheck","bankAccountCheck","setBankAccountCheck","chargeableCard","setChargeableCard","dispatch","userDetails","state","success","user","userUpdate","loadingUpdate","loading","errorUpdate","error","successUpdate","userLogin","userInfo","push","name","_id","submitHandler","e","sellerConfirmation","preventDefault","window","confirm","email","target","value"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react'\nimport { useSelector, useDispatch } from 'react-redux'\nimport {Form, Button} from 'react-bootstrap'\n//import { LinkContainer } from 'react-router-bootstrap'\nimport Message from '../components/Message'\nimport Loader from '../components/Loader'\nimport FormContainer from '../components/FormContainer'\nimport { sellerConfirmationPost} from '../actions/userActions'\nimport { getUserDetails } from '../actions/userActions'\n//import { USER_UPDATE_PROFILE_RESET } from '../constants/userConstants'\n\n\n\nconst SellerConfirmationScreen = ({ match, history }) => {\n\n    const userId = match.params.id\n\n    console.log('USERID', userId)\n\n    const [clientIdCheck, setClientIdCheck] = useState('Yes')\n    const [ bankAccountCheck, setBankAccountCheck] = useState('Yes')\n    const [chargeableCard,  setChargeableCard] = useState('Yes')\n\n    \n    const dispatch = useDispatch()\n\n     const userDetails = useSelector(state => state.userDetails)\n    const { success, user} = userDetails\n\n    //console.log('USER-DETAILS', user)\n\n     const userUpdate = useSelector((state) => state.userUpdate)\n        const {\n            loading: loadingUpdate,\n            error: errorUpdate,\n            success: successUpdate,\n        } = userUpdate\n\n\n    const userLogin = useSelector(state => state.userLogin)\n\n    const {loading, error, userInfo} = userLogin\n\n    //console.log('USER-LOGIN', userLogin)\n\n\n   \n\n    useEffect(() => {\n        if(!userInfo) {\n            history.push('/login')\n        } else {\n            if (!user.name || user._id !== userId) {\n                dispatch(getUserDetails(userId))\n            } else{\n               \n               \n            }\n        }\n    }, [dispatch, history, userInfo, user, success, userId ])\n\n\n    useEffect(() => {\n   if(!userInfo) {\n            history.push('/login')\n      \n    } else {\n      if (!user.name || user._id !== userId) {\n        dispatch(getUserDetails(userId))\n      } else {\n       \n        \n      }\n    }\n  }, [dispatch, history, userId, user, successUpdate, userInfo])\n\n     const submitHandler = (e, sellerConfirmation) => {\n          e.preventDefault()\n        if(window.confirm('By pressing continue - you will be signing off your name against this seller and you will be signed off as the authorisation officer. Are you sure, you have you filled in all the fields correctly?')) {\n            dispatch(sellerConfirmationPost(\n                    userId ,\n                sellerConfirmation = {\n                    email: userInfo.email,\n                    name: userInfo.name,\n                    chargeableCard: chargeableCard, \n                    clientIdCheck: clientIdCheck,\n                    bankAccountCheck: bankAccountCheck\n                }\n            ))\n            history.push('/admin/userlist')\n        }\n        \n     }\n\n\n    return (\n        <>\n             <FormContainer>\n\n\n                {error && <Message variant='danger'>{error}</Message>}\n               {loading && <Loader />} \n                   \n                <h5 className='text-center py-3 m-3'>Seller Confirmation Form</h5>\n                 \n                     \n\n                <Form  onSubmit={submitHandler}> \n                <Form.Group >\n\n                 \n                     \n                    <h5 className='text-center py-2'>Please fill in the form below accurately</h5>\n  \n\n                    <Form.Check\n                            type= 'radio'\n                            label='Client ID Checked'\n                            id='clientId'\n                            name='clientIdCheck'\n                            value='Yes'\n                            required\n                            //checked\n                            Change={(e) => setClientIdCheck(e.target.value)}\n                        > \n                    </Form.Check>\n                    <br />\n                    <Form.Check\n                            type= 'radio'\n                            label='Bank Account Checked'\n                            id='bankAccountCheck'\n                            name='bankAccountCheck'\n                            value='Yes'\n                            required\n                            //checked\n                            Change={(e) => setBankAccountCheck(e.target.value)}\n                        > \n                    </Form.Check>\n                    <br />\n                    <Form.Check\n                            type= 'radio'\n                            label='Chargeable Card Checked'\n                            id='chargeable Card'\n                            name='chargeableCard'\n                            value='Yes'\n                            required\n                            //checked\n                            Change={(e) => setChargeableCard(e.target.value)}\n                        > \n                    </Form.Check>\n                    <br />\n                    \n                        <Button type='submit' variant='dark' >\n                            Continue\n                        </Button>\n                   \n                     \n  \n                </Form.Group>\n                </Form>  \n            </FormContainer>\n            \n        </>\n    )\n}\n\nexport default SellerConfirmationScreen\n"]},"metadata":{},"sourceType":"module"}